<div class="container mt-5">
  <div class="row justify-content-center">
    <div class="col-md-8">
      <div class="card">
        <div class="card-header">
          <h2 class="text-center">Sign up</h2>
        </div>
        <div class="card-body">
          <%= form_for(resource, as: resource_name, url: registration_path(resource_name)) do |f| %>
            <%= render "devise/shared/error_messages", resource: resource %>

            <div class="mb-3">
              <%= f.label :username, class: "form-label" %>
              <%= f.text_field :username, autofocus: true, class: "form-control" %>
            </div>

            <div class="mb-3">
              <%= f.label :name, class: "form-label" %>
              <%= f.text_field :name, class: "form-control" %>
            </div>

            <div class="mb-3">
              <%= f.label :email, class: "form-label" %>
              <%= f.email_field :email, class: "form-control" %>
            </div>

            <div class="mb-3">
              <%= f.label :password, class: "form-label" %>
              <%= f.password_field :password, autocomplete: "new-password", class: "form-control" %>
              <% if @minimum_password_length %>
                <div class="form-text">(<%= @minimum_password_length %> characters minimum)</div>
              <% end %>
            </div>

            <div class="mb-3">
              <%= f.label :password_confirmation, class: "form-label" %>
              <%= f.password_field :password_confirmation, autocomplete: "new-password", class: "form-control" %>
            </div>

            <div class="mb-3">
              <div class="form-check">
                <%= f.check_box :terms_of_service, class: "form-check-input", required: true %>
                <%= f.label :terms_of_service, class: "form-check-label" do %>
                  I agree to the <a href="#" data-bs-toggle="modal" data-bs-target="#termsModal">Terms of Service</a>
                <% end %>
              </div>
            </div>

            <div class="d-grid gap-2">
              <%= f.submit "Sign up", class: "btn btn-primary" %>
            </div>
          <% end %>

          <div class="mt-3 text-center">
            <%= render "devise/shared/links" %>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Terms of Service Modal -->
<div class="modal fade" id="termsModal" tabindex="-1" aria-labelledby="termsModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="termsModalLabel">Terms of Service</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div class="terms-content">
          <h6>1. Acceptance of Terms</h6>
          <p>By accessing and using this service, you accept and agree to be bound by the terms and provision of this agreement.</p>

          <h6>2. User Account</h6>
          <p>You are responsible for maintaining the confidentiality of your account and password. You agree to accept responsibility for all activities that occur under your account.</p>

          <h6>3. Privacy Policy</h6>
          <p>Your use of the service is also governed by our Privacy Policy. Please review our Privacy Policy to understand our practices.</p>

          <h6>4. Content</h6>
          <p>You retain all rights to any content you submit, post or display on or through the service.</p>

          <h6>5. Termination</h6>
          <p>We reserve the right to terminate or suspend your account at any time, without notice, for conduct that we believe violates these Terms of Service or is harmful to other users of the service, us, or third parties, or for any other reason.</p>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
